{"mode":"block","xmlText":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"(;u4if13oD6]J(WGaART\">cmd</variable><variable id=\"5w8*3SeMX{2CbD4qN(~P\">dem</variable><variable id=\"XUkNXVR$u!)Y?i[uAZ:(\">dimmer</variable></variables><block type=\"procedures_defnoreturn\" id=\"Fg=b)5M,{7LG)b?vjRZ@\" x=\"-537\" y=\"-387\"><field name=\"NAME\">dieukhien</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"variables_set\" id=\"|)s|q,:,i`s*NSI-`=|/\"><field name=\"VAR\" id=\"(;u4if13oD6]J(WGaART\">cmd</field><value name=\"VALUE\"><block type=\"yolobit_device_read_terminal\" id=\"E~cBE;cq(*-qh|}Mc8[Z\"></block></value><next><block type=\"controls_if\" id=\"Lo{k;Knu_uw}MzsJ?{kc\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"GtD[yU`5n)z[ZFmkMFDy\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"C1;AoFEW}w-:g8T7j5s;\"><field name=\"VAR\" id=\"(;u4if13oD6]J(WGaART\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"ytrWH%KCa4Og+FSLuxju\"><field name=\"TEXT\">1</field></block></value></block></value><statement name=\"DO0\"><block type=\"yolobit_led_set_all\" id=\"-Rvm#g@0)S}xQYfq`+(+\"><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"E@bwDnw(D%DWrnO]9wi8\"><field name=\"COLOUR\">#000000</field></shadow></value></block></statement><next><block type=\"controls_if\" id=\"s/.F0.?rSPH=#KK(z%fP\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"M$xWfM9X#C@9lm7]fnA5\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\";-e}.::jeIB#I9}h4C)u\"><field name=\"VAR\" id=\"(;u4if13oD6]J(WGaART\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"IcF]6o1O8P/5z~$Er(Q;\"><field name=\"TEXT\">2</field></block></value></block></value><statement name=\"DO0\"><block type=\"yolobit_basic_show_image\" id=\"5hXd@m1MVXR?Qc=)ba4A\"><value name=\"image\"><block type=\"yolobit_basic_image_builtins\" id=\"HDD;o8`0%$qVKMY@K$)s\"><field name=\"image\">HEART</field></block></value></block></statement><next><block type=\"controls_if\" id=\"pCMqdG4SG#uh$ai!_LO%\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"nW.q`}Ny8Y@^Z|KAk~?L\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"qUU.S9D.0[T6n@*yU1Z9\"><field name=\"VAR\" id=\"(;u4if13oD6]J(WGaART\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"69{cAC4xn}KOaeW4g71~\"><field name=\"TEXT\">3</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_relay\" id=\"n5sZ}SHJlT#V|ur1`7vs\"><field name=\"state\">0</field><field name=\"NAME\">pin0</field></block></statement><next><block type=\"controls_if\" id=\"R%XtuVLWPHgM333`/}kr\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"=31*8[yx.Iu^puIU7A/H\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"luugVtC|^}VO9:}!Q!2X\"><field name=\"VAR\" id=\"(;u4if13oD6]J(WGaART\">cmd</field></block></value><value name=\"B\"><block type=\"text\" id=\"@RSnRt_NPIYgs1jCs=Dp\"><field name=\"TEXT\">4</field></block></value></block></value><statement name=\"DO0\"><block type=\"aiot_relay\" id=\"298N{I!L[Y.A7AbGs{pT\"><field name=\"state\">1</field><field name=\"NAME\">pin0</field></block></statement><next><block type=\"controls_if\" id=\"pQ)pAa%~E+*(6gGNd[f-\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"WKWfci{oEcPv)?vtbvl8\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"text_getSubstring\" id=\"rKH%h0nJJZ1Y^g^*Zuv,\"><mutation at1=\"true\" at2=\"true\"></mutation><field name=\"WHERE1\">FROM_START</field><field name=\"WHERE2\">FROM_START</field><value name=\"STRING\"><block type=\"variables_get\" id=\"+h!pH{Z$K;(a80qKV-jf\"><field name=\"VAR\" id=\"(;u4if13oD6]J(WGaART\">cmd</field></block></value><value name=\"AT1\"><block type=\"math_number\" id=\"/]Nqi.]z!t%@3iffXqxo\"><field name=\"NUM\">1</field></block></value><value name=\"AT2\"><block type=\"math_number\" id=\"XlSK:s!p.8#{Y(~0^6yW\"><field name=\"NUM\">2</field></block></value></block></value><value name=\"B\"><block type=\"text\" id=\"t2dkS#G*6A/O$uM^VssL\"><field name=\"TEXT\">DM</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"uRp=!pb{*SE!pvYs#uod\"><field name=\"VAR\" id=\"XUkNXVR$u!)Y?i[uAZ:(\">dimmer</field><value name=\"VALUE\"><block type=\"math_tonum\" id=\"ajXJ;mfVA55~!xk,Yp6d\"><value name=\"A\"><block type=\"text_getSubstring\" id=\"5a]KA?|@^|gA22qmKBhh\"><mutation at1=\"true\" at2=\"true\"></mutation><field name=\"WHERE1\">FROM_START</field><field name=\"WHERE2\">FROM_START</field><value name=\"STRING\"><block type=\"variables_get\" id=\"w84)wu(I++DSYGQOrcU3\"><field name=\"VAR\" id=\"(;u4if13oD6]J(WGaART\">cmd</field></block></value><value name=\"AT1\"><block type=\"math_number\" id=\"Fq@PSE{kOqh|^OQscf@l\"><field name=\"NUM\">4</field></block></value><value name=\"AT2\"><block type=\"math_number\" id=\"l:=8LYOv,M/CIf_M*.To\"><field name=\"NUM\">6</field></block></value></block></value></block></value><next><block type=\"aiot_lcd1602_display\" id=\"5_/Lm.~BmRo%HlvNu|$0\"><value name=\"string\"><shadow type=\"text\" id=\"MBGwVQtaNLvn1pCzw|a{\"><field name=\"TEXT\">Hello</field></shadow><block type=\"variables_get\" id=\"jFK*h.GDH-|p7Xh(6ah]\"><field name=\"VAR\" id=\"XUkNXVR$u!)Y?i[uAZ:(\">dimmer</field></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"yZ/Ee6fk$19IN}B`Y6e`\"><field name=\"NUM\">9</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"xuLIAws*Qy0oo~8@0sVn\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"yolobit_led_set_brightness\" id=\"dc8]~RjMp7n/{2i!O2`J\"><value name=\"BRIGHTNESS\"><shadow type=\"math_number\" id=\"tjPLjE)6pt#wBNzIVe7T\"><field name=\"NUM\">100</field></shadow><block type=\"variables_get\" id=\"]p0wVY-eSL6^n#x-zWiV\"><field name=\"VAR\" id=\"XUkNXVR$u!)Y?i[uAZ:(\">dimmer</field></block></value><next><block type=\"yolobit_led_set_all\" id=\"ABm+W#Wjhc6Z~x.KAQgB\"><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"AnC!Nmo.E%(HpC{Kw?]2\"><field name=\"COLOUR\">#0000ff</field></shadow></value></block></next></block></next></block></next></block></statement><next><block type=\"controls_if\" id=\":8FvX8jD0CU|./dK;ZY6\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"AJZNnDCF.:7].4xZv+T5\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"text_getSubstring\" id=\"~*]/v{_Dks;Q:pq[xxsP\"><mutation at1=\"true\" at2=\"true\"></mutation><field name=\"WHERE1\">FROM_START</field><field name=\"WHERE2\">FROM_START</field><value name=\"STRING\"><block type=\"variables_get\" id=\"IeKl8`FT|/N9fm$5ADEN\"><field name=\"VAR\" id=\"(;u4if13oD6]J(WGaART\">cmd</field></block></value><value name=\"AT1\"><block type=\"math_number\" id=\"Dv`3u@WrDB@4;B#?*YDv\"><field name=\"NUM\">1</field></block></value><value name=\"AT2\"><block type=\"math_number\" id=\"lD[p:P20_e_WcN`RnZTn\"><field name=\"NUM\">2</field></block></value></block></value><value name=\"B\"><block type=\"text\" id=\"q=Or+^8DPc$uC)DTkus{\"><field name=\"TEXT\">color</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"|(1{Y4[qki;M)z;,;xlq\"><field name=\"VAR\" id=\"XUkNXVR$u!)Y?i[uAZ:(\">dimmer</field><value name=\"VALUE\"><block type=\"math_tonum\" id=\"%14H2HrIAa|m1UaBF5vc\"><value name=\"A\"><block type=\"text_getSubstring\" id=\"Fq+ll;W|,K*7;N-]rfXa\"><mutation at1=\"true\" at2=\"true\"></mutation><field name=\"WHERE1\">FROM_START</field><field name=\"WHERE2\">FROM_START</field><value name=\"STRING\"><block type=\"variables_get\" id=\"B/m-}4IW/1lIx]3;4hym\"><field name=\"VAR\" id=\"(;u4if13oD6]J(WGaART\">cmd</field></block></value><value name=\"AT1\"><block type=\"math_number\" id=\"m$8:6HQCP1Sp!@HAaRo!\"><field name=\"NUM\">4</field></block></value><value name=\"AT2\"><block type=\"math_number\" id=\"F`aFmHaFzD*^q|FO+JXY\"><field name=\"NUM\">6</field></block></value></block></value></block></value><next><block type=\"aiot_lcd1602_display\" id=\"bGpP`h?e;A,Qf[QYyY3`\"><value name=\"string\"><shadow type=\"text\" id=\"MBGwVQtaNLvn1pCzw|a{\"><field name=\"TEXT\">Hello</field></shadow><block type=\"variables_get\" id=\"r!Cd%0#uaYY(tPKOQ8TL\"><field name=\"VAR\" id=\"XUkNXVR$u!)Y?i[uAZ:(\">dimmer</field></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"rAmLx^2%oSJ54~Ok..#j\"><field name=\"NUM\">9</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"-Osdq-Ziqb(ksX|uZu]$\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"yolobit_led_set_brightness\" id=\"X2{_oVCC{hVAKjKR`(}A\"><value name=\"BRIGHTNESS\"><shadow type=\"math_number\" id=\"tjPLjE)6pt#wBNzIVe7T\"><field name=\"NUM\">100</field></shadow><block type=\"variables_get\" id=\"qqkVm3-gr`8q:piN-i!*\"><field name=\"VAR\" id=\"XUkNXVR$u!)Y?i[uAZ:(\">dimmer</field></block></value><next><block type=\"yolobit_led_set_all\" id=\"Pr`|6;.f.s.cf^}]S=K3\"><value name=\"COLOR\"><shadow type=\"colour_picker\" id=\"OgBV{::=%tV+,-A(RDtk\"><field name=\"COLOUR\">#0000ff</field></shadow></value></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"procedures_defnoreturn\" id=\"$I[iCV9_,M+WWIN*CXJ1\" x=\"13\" y=\"-412\"><field name=\"NAME\">Sendding</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mô tả hàm này...</comment><statement name=\"STACK\"><block type=\"aiot_lcd1602_clear\" id=\"b7iyu;($^?UmVjuJ;v8$\"><next><block type=\"aiot_dht_measure\" id=\"bM$Sw$XWmDoBl{L3ScbB\"><next><block type=\"aiot_lcd1602_display\" id=\"Pc.YBC;A$.F(kaEQ!G/,\"><value name=\"string\"><shadow type=\"text\" id=\"PTK!=lX`?G?q[?4pr*:8\"><field name=\"TEXT\">Hello</field></shadow><block type=\"aiot_dht_read\" id=\"0NnxBy*):W`r*a?L|nc[\"><field name=\"DATA\">TEMP</field></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"}i46YX)p#9pEX[|MEbYp\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"Jv2]u27u:ElR?u`JL-pc\"><field name=\"NUM\">0</field></shadow></value><next><block type=\"aiot_lcd1602_display\" id=\"TqCUwnvQ%)X#*6I9Xg2w\"><value name=\"string\"><shadow type=\"text\" id=\"PTK!=lX`?G?q[?4pr*:8\"><field name=\"TEXT\">Hello</field></shadow><block type=\"aiot_dht_read\" id=\"[i9mo:hYIBznUxOX.dZ,\"><field name=\"DATA\">HUMID</field></block></value><value name=\"X\"><shadow type=\"math_number\" id=\"izC-Y/^4W{7Jx$1#dySX\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\" id=\"YET)9x0{9+7)21K(%q7F\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"xbot_serial_write_string\" id=\"@YcL?ND[/KljV!o@U:cM\"><value name=\"string\"><shadow type=\"text\" id=\"@]7*@t_k2nba-z0F1Mvc\"><field name=\"TEXT\"> </field></shadow><block type=\"text_join\" id=\"Jz-1L/rtPAlPe9v^e@2-\"><mutation items=\"6\"></mutation><value name=\"ADD0\"><block type=\"text\" id=\"V;XbD.4IfNEboOj,;pbC\"><field name=\"TEXT\">!1:T:</field></block></value><value name=\"ADD1\"><block type=\"aiot_dht_read\" id=\"Vy@:f1)}+yms,gKWXs?%\"><field name=\"DATA\">TEMP</field></block></value><value name=\"ADD2\"><block type=\"text\" id=\"w|^+)E9WE_I/vUUG5+?%\"><field name=\"TEXT\">#</field></block></value><value name=\"ADD3\"><block type=\"text\" id=\"S:KuOd@m79|Ei.L`hlRg\"><field name=\"TEXT\">!2:H:</field></block></value><value name=\"ADD4\"><block type=\"aiot_dht_read\" id=\"4UrY1c%c/;O6p^Fsn!0$\"><field name=\"DATA\">HUMID</field></block></value><value name=\"ADD5\"><block type=\"text\" id=\"[0UU2nF3Mn.Ht`eTU!|q\"><field name=\"TEXT\">#</field></block></value></block></value><next><block type=\"yolobit_basic_sleep\" id=\"ozKnCUwki+ps?aY/SI}}\"><value name=\"duration\"><shadow type=\"math_number\" id=\"+c4P)QK03VR72ZljDw/L\"><field name=\"NUM\">1000</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"math_number\" id=\",Ux8p|dRrX%%A1RN1-?B\" x=\"-300\" y=\"28\"><field name=\"NUM\">0</field></block><block type=\"variables_get\" id=\"uZAXs_Iz[ZgY8!H~L[(I\" x=\"238\" y=\"38\"><field name=\"VAR\" id=\"(;u4if13oD6]J(WGaART\">cmd</field></block><block type=\"yolobit_basic_forever\" id=\"w5Bl*-!,Ihc8X2tI)wP*\" x=\"763\" y=\"113\"><statement name=\"ONSTART\"><block type=\"aiot_lcd1602_clear\" id=\"bhBt[Xfq:nD||qJpW(}:\"><next><block type=\"variables_set\" id=\"@OdANpC}})3%j@:-ltC9\"><field name=\"VAR\" id=\"5w8*3SeMX{2CbD4qN(~P\">dem</field><value name=\"VALUE\"><block type=\"math_number\" id=\":n,#LfJ6oalZ!9o`tjXB\"><field name=\"NUM\">0</field></block></value></block></next></block></statement><statement name=\"FOREVER\"><block type=\"math_change\" id=\"%!#R=suL0HixyTlih{:a\"><field name=\"VAR\" id=\"5w8*3SeMX{2CbD4qN(~P\">dem</field><value name=\"DELTA\"><shadow type=\"math_number\" id=\"$f14t)75%p.YIto6hk%-\"><field name=\"NUM\">1</field></shadow></value><next><block type=\"controls_if\" id=\"$;%%@2g${9VH0_fu*qKj\"><value name=\"IF0\"><block type=\"logic_compare\" id=\"@#LABUTZ2L_]6Fb;22!8\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\"q{Q|:xt*GCPcC*gcl7-Y\"><field name=\"VAR\" id=\"5w8*3SeMX{2CbD4qN(~P\">dem</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"8aMf)Rz`$(GZeZ{3n-W`\"><field name=\"NUM\">5</field></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\" id=\"S(797Hl?v,f`2P18)z0k\"><field name=\"VAR\" id=\"5w8*3SeMX{2CbD4qN(~P\">dem</field><value name=\"VALUE\"><block type=\"math_number\" id=\"N%wNKhtNW{u^zW2F1IEk\"><field name=\"NUM\">0</field></block></value><next><block type=\"procedures_callnoreturn\" id=\"meh=5P9bn}Fdbb9Mnn,*\"><mutation name=\"Sendding\"></mutation></block></next></block></statement><next><block type=\"procedures_callnoreturn\" id=\"+/u55[mZ]7G_Z._ov986\"><mutation name=\"dieukhien\"></mutation><next><block type=\"yolobit_basic_sleep\" id=\"Lo_u,HVhu`p1*H/ZjGGe\"><value name=\"duration\"><shadow type=\"math_number\" id=\"}Wcoiqt|*uPpi}[k7|c6\"><field name=\"NUM\">1000</field></shadow></value></block></next></block></next></block></next></block></statement></block></xml>","python":"import sys\nimport uselect\nfrom yolobit import *\nbutton_a.on_pressed = None\nbutton_b.on_pressed = None\nbutton_a.on_pressed_ab = button_b.on_pressed_ab = -1\nfrom aiot_lcd1602 import LCD1602\nfrom machine import Pin, SoftI2C\nfrom aiot_dht20 import DHT20\nimport time\n\ndef read_terminal_input():\n  spoll=uselect.poll()        # Set up an input polling object.\n  spoll.register(sys.stdin, uselect.POLLIN)    # Register polling object.\n\n  input = ''\n  if spoll.poll(0):\n    input = sys.stdin.read(1)\n\n    while spoll.poll(0):\n      input = input + sys.stdin.read(1)\n\n  spoll.unregister(sys.stdin)\n  return input\n\naiot_lcd1602 = LCD1602()\n\n# Mô tả hàm này...\ndef dieukhien():\n  global cmd, dem, dimmer, aiot_lcd1602, aiot_dht20\n  cmd = read_terminal_input()\n  if cmd == '1':\n    display.set_all('#000000')\n  if cmd == '2':\n    display.show(Image.HEART)\n  if cmd == '3':\n    pin0.write_digital(0)\n  if cmd == '4':\n    pin0.write_digital(1)\n  if cmd[ : 2] == 'DM':\n    dimmer = int((cmd[3 : 6]))\n    aiot_lcd1602.move_to(9, 0)\n    aiot_lcd1602.putstr(dimmer)\n    display.set_brightness(dimmer)\n    display.set_all('#0000ff')\n  if cmd[ : 2] == 'color':\n    dimmer = int((cmd[3 : 6]))\n    aiot_lcd1602.move_to(9, 0)\n    aiot_lcd1602.putstr(dimmer)\n    display.set_brightness(dimmer)\n    display.set_all('#0000ff')\n\naiot_dht20 = DHT20(SoftI2C(scl=Pin(22), sda=Pin(21)))\n\n# Mô tả hàm này...\ndef Sendding():\n  global cmd, dem, dimmer, aiot_lcd1602, aiot_dht20\n  aiot_lcd1602.clear()\n  aiot_dht20.read_dht20()\n  aiot_lcd1602.move_to(0, 0)\n  aiot_lcd1602.putstr((aiot_dht20.dht20_temperature()))\n  aiot_lcd1602.move_to(0, 1)\n  aiot_lcd1602.putstr((aiot_dht20.dht20_humidity()))\n  print((''.join([str(x) for x in ['!1:T:', aiot_dht20.dht20_temperature(), '#', '!2:H:', aiot_dht20.dht20_humidity(), '#']])), end =' ')\n  time.sleep_ms(1000)\n\nif True:\n  aiot_lcd1602.clear()\n  dem = 0\n\nwhile True:\n  dem = (dem if isinstance(dem, (int, float)) else 0) + 1\n  if dem == 5:\n    dem = 0\n    Sendding()\n  dieukhien()\n  time.sleep_ms(1000)\n\n\n0\n\ncmd\n","name":"untitled","extensions":[{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"},{"id":"yolobit-AITT-VN-yolobit_extension_aiot","src":"https://github.com/AITT-VN/yolobit_extension_aiot","name":"AIOT Kit","description":"Mục mở rộng dành cho bộ kit AIoT"}],"device":"yolobit"}